{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for making API fetch requests and generating WebSocket URLs, including handling authentication tokens and error handling.", "external_files": ["fetch API (built-in)", "localStorage", "process.env"], "external_methods": ["localStorage.getItem", "fetch"], "published": ["apiFetch", "getWebSocketURL"], "classes": [], "methods": [{"name": "export async function apiFetch<T>( apiFetch", "description": "Performs a fetch request with optional multipart support, adding authentication headers if available, and handles errors with detailed messages.", "scope": "", "scopeKind": ""}, {"name": "export function getWebSocketURL(path: string) { getWebSocketURL", "description": "Generates a WebSocket URL based on the API base URL, converting http/https to ws/wss schemes.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "localStorage.getItem", "process.env.NEXT_PUBLIC_API_BASE"], "search-terms": ["api utility", "fetch with auth", "websocket URL", "api endpoint", "HTTP request", "TypeScript API", "auth token"], "state": 2, "file_id": 11, "knowledge_revision": 52, "git_revision": "556e813780960446cbe9c50f31f2a2ea4f37a5f1", "revision_history": [{"24": ""}, {"52": "556e813780960446cbe9c50f31f2a2ea4f37a5f1"}], "ctags": [{"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^export async function apiFetch<T>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWebSocketURL", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^export function getWebSocketURL(path: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^  const headers: Record<string, string> = {};$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^      const json = await res.json();$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/agile-effort-insights-3971-3980/ai_effort_tracker_frontend/src/utils/api.ts", "pattern": "/^    const token = localStorage.getItem(\"efforttracker_token\");$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}], "hash": "317f186cd2ceddd589025ff909686841", "format-version": 4, "code-base-name": "ai_effort_tracker_frontend", "filename": "ai_effort_tracker_frontend/src/utils/api.ts"}